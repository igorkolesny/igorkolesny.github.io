"use strict";var _this=void 0;function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=!0,didErr=!1,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var canUseWebp=function canUseWebp(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))&&0===elem.toDataURL("image/webp").indexOf("data:image/webp")};if(!1===canUseWebp()){var lazyBgItems=document.querySelectorAll(".lazy[data-bg-fallback]");lazyBgItems.forEach((function(item){var srcBgFallback=item.getAttribute("data-bg-fallback");item.setAttribute("data-bg",srcBgFallback)}))}var lazyLoadInstance=new LazyLoad({elements_selector:".lazy"});$(".mobile-nav__next").on("click",(function(e){e.preventDefault();var secondNav="."+$(this).attr("data-nav");$(".mobile-nav__subnav").removeClass("active"),$(secondNav).addClass("active"),$(".mobile-nav__second").addClass("mobile-nav__second--open")})),$(".mobile-nav__back").on("click",(function(e){e.preventDefault(),$(".mobile-nav__second").removeClass("mobile-nav__second--open")}));var collapseControl=document.querySelectorAll(".collapse-control");collapseControl.forEach((function(el){el.addEventListener("click",(function(e){var self=e.currentTarget.closest(".collapse"),control=self.querySelector(".collapse-control"),content=self.querySelector(".collapse-content");return self.classList.toggle("open"),self.classList.contains("open")?(control.setAttribute("aria-expanded",!0),content.setAttribute("aria-hidden",!1),content.style.maxHeight=content.scrollHeight+"px"):(control.setAttribute("aria-expanded",!1),content.setAttribute("aria-hidden",!0),content.style.maxHeight=null),!1}))}));var maskPhone=function maskPhone(selector){var masked=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",elems=document.querySelectorAll(selector);function mask(event){var keyCode=event.keyCode,template=masked,def=template.replace(/\D/g,""),val=this.value.replace(/\D/g,""),i=0,newValue=template.replace(/[_\d]/g,(function(a){return i<val.length?val.charAt(i++)||def.charAt(i):a}));-1!==(i=newValue.indexOf("_"))&&(newValue=newValue.slice(0,i));var reg=template.substr(0,this.value.length).replace(/_+/g,(function(a){return"\\d{1,"+a.length+"}"})).replace(/[+()]/g,"\\$&");(!(reg=new RegExp("^"+reg+"$")).test(this.value)||this.value.length<5||keyCode>47&&keyCode<58)&&(this.value=newValue),"blur"===event.type&&this.value.length<5&&(this.value="")}var _iterator=_createForOfIteratorHelper(elems),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var elem=_step.value;elem.addEventListener("input",mask),elem.addEventListener("focus",mask),elem.addEventListener("blur",mask)}}catch(err){_iterator.e(err)}finally{_iterator.f()}};$("body").on("click",".tabs__btn",(function(e){$(e.currentTarget).closest(".tabs__list").find(".tabs__btn").removeClass("tabs__btn--active"),$(e.currentTarget).closest(".tabs").find(".tabs__content").removeClass("tabs__content--active"),$('.tabs__content[data-tabs-target="'.concat($(e.currentTarget).attr("data-tabs-path"),'"]')).addClass("tabs__content--active"),$(e.currentTarget).closest(".tabs__header").find(".bar").animate({width:$(e.currentTarget).width(),left:$(e.currentTarget).position().left})})),$(".bar").each((function(){$(this).closest(".tabs__header").find(".bar").animate({width:$(this).closest(".tabs__header").find(".tabs__btn--active").width(),left:$(this).closest(".tabs__header").find(".tabs__btn--active").position().left})}));var accordions=document.querySelectorAll(".accordion-control");accordions.forEach((function(el){el.addEventListener("click",(function(e){var self=e.currentTarget.closest(".accordion-item"),control=self.querySelector(".accordion-control"),content=self.querySelector(".accordion-content");self.classList.toggle("open"),self.classList.contains("open")?(control.setAttribute("aria-expanded",!0),content.setAttribute("aria-hidden",!1),content.style.maxHeight=content.scrollHeight+"px"):(control.setAttribute("aria-expanded",!1),content.setAttribute("aria-hidden",!0),content.style.maxHeight=null)}))}));var textInputBoxPlugin=function textInputBoxPlugin($){$.fn.textInputBox=function(boxClass){boxClass||(boxClass="input-field"),$(this).find("."+boxClass).each((function(index,element){var $box=$(element),$input=$box.find("input, textarea");function hasValue(){var hasValueClass="".concat(boxClass,"_has-value");$input.val().length>0?$box.hasClass(hasValueClass)||$box.addClass(hasValueClass):$box.hasClass(hasValueClass)&&$box.removeClass(hasValueClass)}$input.attr("required")&&!$box.hasClass("".concat(boxClass,"_required"))&&$box.addClass("".concat(boxClass,"_required")),$input.attr("placeholder")&&$box.attr("data-placeholder",$input.attr("placeholder")),hasValue(),$input.on("change",hasValue),$input.on("focus",(function(){$box.addClass("".concat(boxClass,"_focus")),hasValue()})).on("blur",(function(){$box.removeClass("".concat(boxClass,"_focus")),hasValue()}))}))}};maskPhone('input[name="phone"]'),document.querySelectorAll(".pretty-select").forEach((function(el){var prettySelect=new Choices(el,{searchEnabled:!1})})),tippy("[data-tippy-content]");var $body=$("body");textInputBoxPlugin($),$body.textInputBox(),$("body").on("click",".breadcrumb__toggle",(function(e){$(e.currentTarget).toggleClass("active"),$(".breadcrumb__main").toggleClass("active")})),$(window).width()<768&&$(".breadcrumb__main").addClass("custom-scroll"),$(".footer-nav__view").on("click",(function(e){e.preventDefault(),$(this).toggleClass("open"),$(this).closest(".footer-nav__content").find(".footer-nav__menu").toggleClass("open")}));var footerNavControl=document.querySelectorAll(".footer-nav__toggle");footerNavControl.forEach((function(el){el.addEventListener("click",(function(e){var self;return e.currentTarget.closest(".footer-nav__group").classList.toggle("footer-nav__group--open"),!1}))})),$(".sidebar__primary--toggle").on("mouseenter",(function(){var sideNavTarget="."+$(this).attr("data-nav");$(".sidebar__subnav").removeClass("active"),$(sideNavTarget).addClass("active"),$(".sidebar__second").addClass("sidebar__second--open")})),$(".sidebar__primary--link").on("mouseenter",(function(){$(".sidebar__second").removeClass("sidebar__second--open")})),$(".sidebar").on("mouseleave",(function(){$(".sidebar__second").removeClass("sidebar__second--open")}));var breadcrumb=new Swiper(".breadcrumb-slider",{loop:!1,slidesPerView:"auto",simulateTouch:!1}),$area=$(".slider-area"),areamin=1,areamax=400,areafrom=15,areato=270,$cost=$(".slider-cost"),costmin=.5,costmax=150,costfrom=5.9,costto=127.7,$floor=$(".slider-floor"),floormin=0,floormax=30,floorfrom=7,floorto=22,$date=$(".slider-date"),datemin=0,datemax=13,datefrom=1,dateto=14,$price=$(".slider-price"),pricemin=5e5,pricemax=5e7,pricefrom=3e6,$first=$(".slider-first"),firstmin=5e5,firstmax=15e6,firstfrom=3e6,$time=$(".slider-time"),timemin=1,timemax=30,timefrom=10,instance;$area.ionRangeSlider({grid:!1,skin:"round",min:areamin,max:areamax,type:"double",from:areafrom,to:areato,step:1,onChange:function onChange(data){sliderChange(data,"area")}}),$cost.ionRangeSlider({grid:!1,skin:"round",min:costmin,max:costmax,type:"double",from:costfrom,to:costto,step:.1,onChange:function onChange(data){sliderChange(data,"cost")}}),$floor.ionRangeSlider({grid:!1,skin:"round",min:floormin,max:floormax,type:"double",from:floorfrom,to:floorto,step:1,onChange:function onChange(data){sliderChange(data,"floor")}}),$date.ionRangeSlider({grid:!1,skin:"round",onChange:function onChange(data){}}),$price.ionRangeSlider({grid:!1,skin:"round",min:pricemin,max:pricemax,type:"single",prettify_enabled:!0,prettify_separator:" ",from:pricefrom,step:1,onChange:function onChange(data){sliderChange(data,"price")}}),$first.ionRangeSlider({grid:!1,skin:"round",min:firstmin,max:firstmax,type:"single",from:firstfrom,prettify_enabled:!0,prettify_separator:" ",step:1,onChange:function onChange(data){sliderChange(data,"first")}}),$time.ionRangeSlider({grid:!1,skin:"round",min:timemin,max:timemax,type:"single",from:timefrom,step:1,onChange:function onChange(data){sliderChange(data,"time")}}),$("body").on("keypress",".range__value",(function(event){return event.charCode>=48&&event.charCode<=57||46==event.charCode||44==event.charCode||0==event.charCode})),$("body").on("keyup",".range__value",(function(event){this.value=this.value.replace(/ /g,"");var number=this.value;this.value=number.replace(/\B(?=(\d{3})+(?!\d))/g," ")}));var sliderChange=function sliderChange(data,slider){var $sliderFrom=$('input.range__value--from[data-slider="'.concat(slider,'"]')),$sliderTo=$('input.range__value--to[data-slider="'.concat(slider,'"]'));$sliderFrom.val(data.from_pretty),$sliderTo.length>0&&$sliderTo.val(data.to_pretty),$(".slider-".concat(slider)).closest(".range").find(".range__value--percent").length>0&&$(".slider-".concat(slider)).closest(".range").find(".range__value--percent").text(Math.ceil(100*data.from/data.max)+"%")};$(".range__value--from").on("change",(function(){var val=$(this).prop("value").replace(/ /g,""),instance=null;"price"===$(this).attr("data-slider")&&(pricefrom=$price.closest(".range").find(".range__value--from").val(),instance=$price.data("ionRangeSlider"),val=validateFrom(val,pricemin),instance.update({from:val})),"area"===$(this).attr("data-slider")&&(areafrom=$area.closest(".range").find(".range__value--from").val(),areato=$area.closest(".range").find(".range__value--to").val(),instance=$area.data("ionRangeSlider"),val=validateFrom(val,areamin,areato),instance.update({from:val})),"cost"===$(this).attr("data-slider")&&(costfrom=$cost.closest(".range").find(".range__value--from").val(),costto=$cost.closest(".range").find(".range__value--to").val(),instance=$cost.data("ionRangeSlider"),val=validateFrom(val,costmin,costto),instance.update({from:val})),"floor"===$(this).attr("data-slider")&&(floorfrom=$floor.closest(".range").find(".range__value--from").val(),floorto=$floor.closest(".range").find(".range__value--to").val(),instance=$floor.data("ionRangeSlider"),val=validateFrom(val,floormin,floorto),instance.update({from:val})),$(this).prop("value",val)}));var setFrom=function setFrom(from,to,$slider,val,min){var instance=null;from=$slider.closest(".range").find(".range__value--from").val(),to=$slider.closest(".range").find(".range__value--to").val(),instance=$slider.data("ionRangeSlider"),val=parseFloat(val),val=validateFrom(val,min,to),instance.update({from:val}),$slider.closest(".range").find(".range__value--from").val(0)},validateFrom=function validateFrom(val,min,to){return parseFloat(val)<min?val=min:parseFloat(val)>to&&(val=to),val};$(".range__value--to").on("change",(function(){var val=$(this).prop("value"),instance=null;"area"===$(this).attr("data-slider")&&(areafrom=$area.closest(".range").find(".range__value--from").val(),areato=$area.closest(".range").find(".range__value--to").val(),instance=$area.data("ionRangeSlider"),val=validateTo(val,areamax,areafrom),instance.update({to:val})),"cost"===$(this).attr("data-slider")&&(costfrom=$cost.closest(".range").find(".range__value--from").val(),costto=$cost.closest(".range").find(".range__value--to").val(),instance=$cost.data("ionRangeSlider"),val=validateTo(val,costmax,costfrom),instance.update({to:val})),"floor"===$(this).attr("data-slider")&&(floorfrom=$floor.closest(".range").find(".range__value--from").val(),floorto=$floor.closest(".range").find(".range__value--to").val(),instance=$floor.data("ionRangeSlider"),val=validateTo(val,floormax,floorfrom),instance.update({to:val})),$(this).prop("value",val)}));var setTo=function setTo(from,to,$slider,val,max){from=$slider.closest(".range").find(".range__value--from").val(),to=$slider.closest(".range").find(".range__value--to").val(),instance=$slider.data("ionRangeSlider"),val=validateTo(val,max,from),instance.update({to:val}),$slider.closest(".range").find(".range__value--to").val(val)},validateTo=function validateTo(val,max,from){return parseFloat(val)<from?val=from:parseFloat(val)>max&&(val=max),val};$date.on("change",(function(){var $inp=$(this),$rangeField=$inp.closest(".range"),rangeFrom=$inp.data("from"),rangeTo=$inp.data("to"),rangeValues=$inp.attr("data-range-values"),$rangeValFrom=$rangeField.find(".range__value--from"),$rangeValTo=$rangeField.find(".range__value--to"),arrRangeValues=rangeValues.split(","),arrRangeFrom=arrRangeValues[rangeFrom],arrRangeTo=arrRangeValues[rangeTo];$rangeValFrom.text(arrRangeFrom),$rangeValTo.text(arrRangeTo)})),$(".range__dropdown--button").on("click",(function(e){e.preventDefault();var $this=$(this),$range=$this.closest(".range");$this.hasClass("active")?($this.removeClass("active"),$range.removeClass("range--fix-dropdown")):($range.find(".range__dropdown--button").removeClass("active"),$this.addClass("active"),$range.addClass("range--fix-dropdown"))})),$(".field__select").on("click",(function(e){var $this,$field;e.preventDefault(),$(this).closest(".field").toggleClass("is-open")})),$(".field__dropdown--item").on("click",(function(e){var $field;e.preventDefault(),$(this).closest(".field").removeClass("is-open")})),$(".field__dropdown--clear").on("click",(function(e){var $field;e.preventDefault(),$(this).closest(".field").removeClass("is-open")})),$body.on("click",(function(event){0===$(event.target).closest(".field").length&&$(".field").removeClass("is-open")})),document.querySelectorAll(".field__dropdown--scroll").forEach((function(el){new SimpleBar(el)})),$(".item__toggle").on("click",(function(e){var $item;e.preventDefault(),$(this).closest(".item").toggleClass("item--switch")})),$(window).width()>1024&&($(".item__tags--toggle").on("mouseover",(function(e){var $item;$(this).closest(".item__tags").addClass("show")})),$(".item__tags--toggle").on("mouseleave",(function(e){var $item;$(this).closest(".item__tags").removeClass("show")}))),$("body").on("click",".item__tags--toggle",(function(e){$(window).width()<=1024&&($(e.currentTarget).parent().find(".item__tag").toggleClass("active"),$(e.currentTarget).toggleClass("active"))}));var mainSlider=new Swiper(".main__slider",{slidesPerView:1,spaceBetween:16,effect:"fade",loop:!0,navigation:{nextEl:".main .slider-next",prevEl:".main .slider-prev"},breakpoints:{1024:{spaceBetween:16},1200:{spaceBetween:24}},on:{slideChange:function slideChange(index){$(".main__num span").removeClass("active"),$(".main__line").removeClass("active"),$(".main .swiper-slide").length-2==index.activeIndex-1?($(".main__num span").eq(0).addClass("active"),$(".main__num span").eq(0).next().addClass("active")):($(".main__num span").eq(index.activeIndex-1).addClass("active"),$(".main__num span").eq(index.activeIndex-1).next().addClass("active"))}}});$("body").on("click",".main__num span",(function(e){mainSlider.slideTo($(e.currentTarget).text())}));var serviceSlider=new Swiper(".conditions__slider",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".conditions-next",prevEl:".conditions-prev"},breakpoints:{1024:{slidesPerView:"auto",spaceBetween:16},1200:{slidesPerView:"auto",spaceBetween:24},1760:{slidesPerView:"auto",spaceBetween:24}}}),serviceSlider2=new Swiper(".conditions__slider_2",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".conditions-next_2",prevEl:".conditions-prev_2"},breakpoints:{1024:{slidesPerView:"auto",spaceBetween:16},1200:{slidesPerView:"auto",spaceBetween:24},1760:{slidesPerView:"auto",spaceBetween:24}}}),viewedSlider=new Swiper(".viewed__slider",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".viewed-next",prevEl:".viewed-prev"},breakpoints:{1024:{slidesPerView:"auto",spaceBetween:16},1200:{slidesPerView:"auto",spaceBetween:24},1420:{slidesPerView:"auto",spaceBetween:40},1760:{slidesPerView:"auto",spaceBetween:40}}}),articlesSlider=new Swiper(".articles-slider",{slidesPerView:2,spaceBetween:24,navigation:{nextEl:".articles-next",prevEl:".articles-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1200:{slidesPerView:3,spaceBetween:24},1420:{slidesPerView:3,spaceBetween:40},1760:{slidesPerView:3,spaceBetween:40}}});if($(window).width()>600)var reviewsSlider=new Swiper(".reviews-slider",{slidesPerView:"auto",spaceBetween:24,navigation:{nextEl:".reviews-next",prevEl:".reviews-prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:24},768:{slidesPerView:1,spaceBetween:40},1280:{slidesPerView:"auto",spaceBetween:40},1366:{slidesPerView:"auto",spaceBetween:40},1440:{slidesPerView:"auto",spaceBetween:40},1920:{slidesPerView:2,spaceBetween:40}}});var popularSlider=new Swiper(".popular__slider",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".popular-next",prevEl:".popular-prev"},breakpoints:{1024:{slidesPerView:"auto",spaceBetween:16},1200:{slidesPerView:"auto",spaceBetween:24},1420:{slidesPerView:"auto",spaceBetween:40},1760:{slidesPerView:"auto",spaceBetween:40}}});if($(window).width()>600)var complexSlider=new Swiper(".complex__slider",{slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".homecomplex-next",prevEl:".homecomplex-prev"},breakpoints:{1024:{slidesPerView:"auto",spaceBetween:16},1200:{slidesPerView:"auto",spaceBetween:24},1420:{slidesPerView:"auto",spaceBetween:40},1760:{slidesPerView:"auto",spaceBetween:40}}});$(window).width()<600&&($(".review_add_wrap").addClass("reviews__wrapper"),$(".review_add_slide").addClass("reviews__slide")),$(window).width()<600&&($(".homecomplex_add_wrap").addClass("homecomplex__wrapper"),$(".homecomplex_add_slide").addClass("homecomplex__slide"),$(".swiper-slide").css({width:"100%","margin-bottom":"20px"})),$(".filter-toggle").on("click",(function(e){e.preventDefault(),$(".filter").toggleClass("open")})),$(".filter-mobile-accept").on("click",(function(e){e.preventDefault(),$(".filter-mobile").removeClass("open")})),$(".filter-mobile__toggle").on("click",(function(e){e.preventDefault(),$(this).toggleClass("filter-mobile__toggle--open"),$(".filter-mobile__secondary").toggleClass("filter-mobile__secondary--open")})),$(".filter__toggle").on("click",(function(e){e.preventDefault(),$(this).toggleClass("filter__toggle--open"),$(".filter__secondary").slideToggle("fast"),$(".yandex-btn").toggleClass("active")})),$(".sorter__item").on("click",(function(e){e.preventDefault();var $this=$(this),$sorter=$this.closest(".sorter");$this.hasClass("active")?$this.toggleClass("sorter-invert"):($sorter.find(".sorter__item").removeClass("active"),$this.addClass("active"))}));var postProjectSlider=new Swiper(".post-projects__slider",{slidesPerView:"auto",spaceBetween:16,simulateTouch:!1,breakpoints:{768:{slidesPerView:3,spaceBetween:16},992:{slidesPerView:3,spaceBetween:40},1760:{slidesPerView:"auto",spaceBetween:40}}}),postGallerySlider=new Swiper(".post-gallery__slider",{slidesPerView:1,spaceBetween:24,loop:!0,navigation:{nextEl:".slider-next",prevEl:".slider-prev"},pagination:{el:".swiper-pagination",type:"fraction"}});$(".subscribe__close").on("click",(function(e){e.preventDefault(),$(".subscribe").hide()}));var tagSlider=new Swiper(".tags__slider",{slidesPerView:"auto",spaceBetween:8,simulateTouch:!1,breakpoints:{1200:{slidesPerView:"auto",spaceBetween:16}}}),objectPromoSlider=new Swiper(".object-promo-slider",{slidesPerView:"auto",spaceBetween:8,loop:!0,navigation:{nextEl:".object-promo-next",prevEl:".object-promo-prev"},breakpoints:{768:{slidesPerView:"auto",spaceBetween:16},1200:{slidesPerView:"auto",spaceBetween:24}}}),objectPromoSliderFull=new Swiper(".object-promo-slider-full:not(.fade)",{slidesPerView:1,spaceBetween:8,allowTouchMove:!0,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".object-promo-next",prevEl:".object-promo-prev"},breakpoints:{768:{spaceBetween:16},1200:{spaceBetween:24,allowTouchMove:!1}}}),objectPromoSliderFullFade=new Swiper(".object-promo-slider-full.fade",{slidesPerView:1,spaceBetween:8,allowTouchMove:!0,loop:!0,effect:"fade",autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".object-promo-next",prevEl:".object-promo-prev"},breakpoints:{768:{spaceBetween:16},1200:{spaceBetween:24,allowTouchMove:!1}}}),objectFlatsSlider=new Swiper(".object-flats-slider",{slidesPerView:"auto",spaceBetween:24,loop:!1,breakpoints:{768:{slidesPerView:"auto",spaceBetween:16},1024:{slidesPerView:"auto",spaceBetween:24},1200:{slidesPerView:"auto",spaceBetween:36},1420:{slidesPerView:"auto",spaceBetween:36},1760:{slidesPerView:"auto",spaceBetween:48}}});$(".finishing-nav__label").on("click",(function(e){var $this,$elem;e.preventDefault(),$(this).closest(".finishing-nav__switch").toggleClass("finishing-nav__switch--open")})),$(".finishing-nav__item").on("click",(function(e){e.preventDefault();var $this=$(this),$switch=$(this).closest(".finishing-nav__switch"),$elem=$this.closest(".finishing"),Tab=$this.attr("data-target"),thisName=$this.text();$switch.removeClass("finishing-nav__switch--open"),$switch.find(".finishing-nav__label--active").text(thisName)})),$body.on("click",(function(event){0===$(event.target).closest(".finishing-nav__switch").length&&$(".finishing-nav__switch").removeClass("finishing-nav__switch--open")}));var projectProgressSlider=new Swiper(".project-progress-slider",{slidesPerView:"auto",spaceBetween:16,loop:!1,simulateTouch:!0,navigation:{nextEl:".progress-next",prevEl:".progress-prev"},breakpoints:{768:{slidesPerView:"auto",spaceBetween:16},1200:{slidesPerView:"auto",spaceBetween:24},1760:{slidesPerView:"auto",spaceBetween:40}}});$(".credit-filter__toggle").on("click",(function(e){e.preventDefault(),$(e.currentTarget).toggleClass("filter__toggle--open"),$(".credit-filter__additional").slideToggle("fast")})),$(".credit__main--primary").on("click",(function(){$(this).closest(".credit").toggleClass("credit--open"),$(this).closest(".credit").find(".credit__options").slideToggle("fast")}));var postSlider=new Swiper(".post-slider",{slidesPerView:"auto",spaceBetween:16,loop:!1,simulateTouch:!0,navigation:{nextEl:".post-next",prevEl:".post-prev"},breakpoints:{768:{slidesPerView:"auto",spaceBetween:24},1760:{slidesPerView:"auto",spaceBetween:40}}});$(".docs-view").on("click",(function(e){e.preventDefault(),$(this).toggleClass("open"),$(".docs").toggleClass("docs--open")}));var bar=document.querySelector(".top-bar");if(bar){var $bar=$(bar),$h=$bar.offset().top;$(window).scroll((function(){$(window).scrollTop()>$h?$bar.addClass("top-bar--visible"):$bar.removeClass("top-bar--visible")}))}var flatThumbs=new Swiper(".flat-media-thumbs",{slidesPerView:4,spaceBetween:16,loop:!0,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0}),flatGallery=new Swiper(".flat-media-gallery",{slidesPerView:1,spaceBetween:16,loop:!0,thumbs:{swiper:flatThumbs},navigation:{nextEl:".gallery-next",prevEl:".gallery-prev"},breakpoints:{768:{slidesPerView:"auto",spaceBetween:16},1024:{slidesPerView:1,spaceBetween:24}}});if($(".flat-info-view").on("click",(function(e){e.preventDefault(),$(this).toggleClass("open"),$(".flat__info--advance").slideToggle("fast")})),$("body").on("click",".scrolltop",(function(){$("html, body").stop().animate({scrollTop:0},500,"swing")})),$("body").on("click",".btn-checkbox",(function(e){if($(window).width()<=1279&&("use"===$(e.target)[0].tagName||"svg"===$(e.target)[0].tagName)){var $input=$(e.currentTarget).find("input");$input.is(":checked")?$input.prop("checked",!1):$input.prop("checked",!0)}})),$("body").on("click",".open-location",(function(){$("html, body").toggleClass("overflow"),$(".location").toggleClass("active")})),$("body").on("click",".location__close",(function(){$("html, body").toggleClass("overflow"),$(".location").toggleClass("active")})),$("body").on("click",".metro__filter .btn-reset, .location .btn-reset",(function(e){$(".select.ln .select__input").val(""),$(".select.ln .select__count").remove(),$(".metro__filter .checkbox-group__input").prop("checked",!1),$('.tabs__content--active .location__content input[type="checkbox"]').prop("checked",!1),$(".tabs__content--active .MetroMap_station_item,.tabs__content--active .MetroMap_stop,.tabs__content--active .MetroMap_transit_group,.tabs__content--active .MetroMap_line_item").removeClass("selected"),$('.tabs__content--active circle[r="8"]').attr("r",6),$(".tabs__btn--active").removeClass("hasFilter"),$(".location__controls .btn-reset").removeClass("show"),$(".metro__filter .btn-reset").removeClass("active")})),$("body").on("change",".location .checkbox-group__input",(function(){0===$(".location .tabs__content--active .checkbox-group__input:checked").length?$(".tabs__btn--active").removeClass("hasFilter"):$(".tabs__btn--active").addClass("hasFilter")})),$("body").on("click","[open-tab]",(function(e){$(".tabs__btn").removeClass("tabs__btn--active"),$(".tabs__content").removeClass("tabs__content--active"),$('.tabs__btn[data-tabs-path="'.concat($(e.currentTarget).attr("open-tab"),'"]')).addClass("tabs__btn--active"),$('.tabs__content[data-tabs-target="'.concat($(e.currentTarget).attr("open-tab"),'"]')).addClass("tabs__content--active"),$(".tabs").find(".bar").animate({width:$(".tabs").find(".tabs__btn--active").width(),left:$(".tabs").find(".tabs__btn--active").position().left})})),$(window).width()>=1024&&$(".credit-filter").length>0)var sticky=new Sticky(".credit-filter",{marginTop:100});if($("body").on("click","a[data-view]",(function(e){if($("a[data-view]").removeClass("active"),$("div[data-view]").removeClass("active"),$('a[data-view="'.concat($(e.currentTarget).attr("data-view"),'"]')).addClass("active"),$('div[data-view="'.concat($(e.currentTarget).attr("data-view"),'"]')).addClass("active"),$(".items-list").hasClass("active"))var stickyTable=new Sticky(".table__header",{})})),$("#map").length>0)var initMap=function initMap(){var map=new google.maps.Map(document.getElementById("map"),{center:{lat:55.776212,lng:37.750353},zoom:13}),icons_house_icon="img/marker.png",icons_pharmacy_icon="img/icons/pharmacy.svg",icons_policlinic_icon="img/icons/policlinic.svg",icons_restaurant_icon="img/icons/restaurant.svg",icons_school_icon="img/icons/school.svg",icons_kinder_icon="img/icons/kinder.svg",icons_mall_icon="img/icons/mall.svg",icons_temples_icon="img/icons/temples.svg",house={type:"house",icon:"img/marker.png",items:[{name:"Пятерочка",addr:"Московский проспект 4, корпус 12",position:new google.maps.LatLng(55.782838,37.738592)}]},shop={type:"shop",icon:"img/icons/shop.svg",items:[{name:"Пятерочка",addr:"Московский проспект 4, корпус 12",position:new google.maps.LatLng(55.776212,37.750353)},{name:"Пятерочка",addr:"Московский проспект 4, корпус 12",position:new google.maps.LatLng(55.777314,37.745887)}]},pharmacy={type:"pharmacy",icon:"img/icons/pharmacy.svg",items:[{name:"Пятерочка",addr:"Московский проспект 4, корпус 12",position:new google.maps.LatLng(55.783382,37.73202)},{name:"Пятерочка",addr:"Московский проспект 4, корпус 12",position:new google.maps.LatLng(55.764132,37.710215)}]};function setMarkers(markers){for(var _loop=function _loop(i){var marker=new google.maps.Marker({position:markers.items[i].position,icon:markers.icon,map:map}),infowindow=new google.maps.InfoWindow({content:'<div class="marker-name">'.concat(markers.items[i].name,'</div><div class="marker-addr">').concat(markers.items[i].addr,"</div>")});$(window).width()>1024?(marker.addListener("mouseover",(function(){infowindow.open({anchor:marker,map:map,shouldFocus:!1})})),marker.addListener("mouseout",(function(){infowindow.close()}))):(marker.addListener("click",(function(){setTimeout((function(){infowindow.open({anchor:marker,map:map,shouldFocus:!1})}),100)})),map.addListener("click",(function(){infowindow.close()})))},i=0;i<markers.items.length;i++)_loop(i)}setMarkers(house),setMarkers(shop),setMarkers(pharmacy)};$("body").on("change",".map .checkbox-group__input",(function(e){$(e.currentTarget).is(":checked")?$('#map img[src="img/icons/'.concat($(e.currentTarget).val(),'.svg"]')).hide():$('#map img[src="img/icons/'.concat($(e.currentTarget).val(),'.svg"]')).show()})),$("body").on("click",".map__toggle:not(.is-hide)",(function(){$(".map__controls-list").slideUp(),$(".map__toggle").addClass("is-hide").text("Развернуть")})),$("body").on("click",".map__toggle.is-hide",(function(){$(".map__controls-list").slideDown(),$(".map__toggle").removeClass("is-hide").text("Свернуть")})),$("body").on("click",".map:not(.active)",(function(e){$(window).width()<=767&&($(e.currentTarget).addClass("active"),$("html, body").addClass("overflow"))})),$("body").on("click",".map.active .map__close",(function(){$(".map").removeClass("active"),$("html, body").removeClass("overflow")})),$("body").on("click",".map.active .btn-mobile",(function(){$(".map__controls").addClass("active")})),$("body").on("click",".map__controls-close",(function(){$(".map__controls").removeClass("active")})),$("body").on("click",".nav-box__btn",(function(e){$(".nav-box__btn").removeClass("active"),$(e.currentTarget).toggleClass("active"),$(".rightmodal").removeClass("show"),$('.rightmodal[data-rightmodal="'.concat($(e.currentTarget).attr("data-rightmodal"),'"]')).toggleClass("show"),$(window).width()>=768&&hideRightmodal(),$(window).width()<768&&(hideRightmodal(),$("html, body").addClass("overflow"))})),$("body").on("click",".rightmodal__close",(function(){$(".rightmodal").removeClass("show"),$(".nav-box__btn").removeClass("active"),$("html, body").removeClass("overflow")}));var hideRightmodal=function hideRightmodal(){$(window).scroll((function(){$(".rightmodal").removeClass("show"),$(".nav-box__btn").removeClass("active")}))};if($("#metro").length>0&&$(window).width()>=1280){var panZoom=svgPanZoom("#metro",{zoomEnabled:!0,controlIconsEnabled:!1,zoomScaleSensitivity:.5,minZoom:1,maxZoom:5,dblClickZoomEnabled:!1});setTimeout((function(){panZoom.zoom(2.5)}),100),document.getElementById("zoom-in").addEventListener("click",(function(ev){ev.preventDefault(),panZoom.zoomIn()})),document.getElementById("zoom-out").addEventListener("click",(function(ev){ev.preventDefault(),panZoom.zoomOut()}))}$(window).width()<1280&&$(".metro").remove();for(var i=0;i<$(".MetroMap_line_item").length;i++)$(".ln .btn-reset").after('\n    <div class="select__item" data-value="'.concat($(".MetroMap_line_item").eq(i).attr("data-name"),'">\n            <div class="checkbox-group__item">\n                <label class="checkbox-group__button">\n                    <input type="checkbox" class="checkbox-group__input" name="check-group" value="">\n                    <span class="checkbox-group__label checkbox-mark checkbox-500">\n                        <span class="line fill" style="background-color: ').concat($(".MetroMap_line_item").eq(i).find(".MetroMap_top").attr("stroke"),'"></span>\n                        ').concat($(".MetroMap_line_item").eq(i).attr("data-name"),"\n                    </span>\n                </label>\n            </div>\n        </div>\n    "));var lines=0;$("body").on("click",".MetroMap_line_item:not(.selected)",(function(e){var id=$(e.currentTarget).attr("id").replace("MetroMap_line_","");$(e.currentTarget).addClass("selected"),mapClassAdd(id,"selected"),resetButton();for(var $select=$(".select.ln"),selectValue="",_i=0;_i<$(".MetroMap_line_item.selected").length;_i++)selectValue+=$(".MetroMap_line_item.selected").eq(_i).attr("data-name")+", ";++lines>1&&(0===$select.find(".select__count").length&&$select.find(".select__input").after('<div class="select__count"></div>'),$select.find(".select__count").text(lines)),console.log(selectValue),lines<=1&&$select.find(".select__count").length>0&&$select.find(".select__count").remove(),$select.find(".select__input").val(selectValue),$select.find('.select__item[data-value="'.concat($(e.currentTarget).attr("data-name"),'"]')).find(".checkbox-group__input").prop("checked",!0),console.log(lines)})),$("body").on("click",".MetroMap_line_item.selected",(function(e){var id=$(e.currentTarget).attr("id").replace("MetroMap_line_","");$(e.currentTarget).removeClass("selected"),mapClassRemove(id,"selected"),resetButton();for(var $select=$(".select.ln"),selectValue="",_i2=0;_i2<$(".MetroMap_line_item.selected").length;_i2++)selectValue+=$(".MetroMap_line_item.selected").eq(_i2).attr("data-name")+", ";--lines>1&&(0===$select.find(".select__count").length&&$select.find(".select__input").after('<div class="select__count"></div>'),$select.find(".select__count").text(lines)),1===lines&&$select.find(".select__count").length>0&&$select.find(".select__count").remove(),console.log(lines),$select.find(".select__input").val(selectValue),$select.find('.select__item[data-value="'.concat($(e.currentTarget).attr("data-name"),'"]')).find(".checkbox-group__input").prop("checked",!1)})),$("body").on("mouseover",".MetroMap_line_item",(function(e){var id=$(e.currentTarget).attr("id").replace("MetroMap_line_","");mapClassAdd(id,"hover")})),$("body").on("mouseleave",".MetroMap_line_item",(function(e){var id=$(e.currentTarget).attr("id").replace("MetroMap_line_","");mapClassRemove(id,"hover")})),$("body").on("click",".MetroMap_station_item",(function(e){var id=$(e.currentTarget).attr("id").replace("MetroMap_station_","");$(e.currentTarget).toggleClass("selected"),$(".MetroMap_to_".concat(id)).toggleClass("selected"),resetButton()})),$("body").on("mouseover",".MetroMap_station_item",(function(e){var id=$(e.currentTarget).attr("id").replace("MetroMap_station_","");$(e.currentTarget).addClass("hover"),$(".MetroMap_to_".concat(id)).addClass("hover").find("circle").attr("r","8")})),$("body").on("mouseleave",".MetroMap_station_item",(function(e){var id=$(e.currentTarget).attr("id").replace("MetroMap_station_","");$(e.currentTarget).removeClass("hover"),$(".MetroMap_to_".concat(id)).removeClass("hover").find("circle").attr("r","6")}));var resetButton=function resetButton(){var count=$(".MetroMap_station_item.selected").length;count>0?($(".location__controls .btn-reset").addClass("show"),$(".metro__filter .btn-reset").addClass("active"),$(".location__controls .btn-reset span").text("Сбросить ".concat(count," станций")),$(".tabs__btn--active").addClass("hasFilter")):($(".location__controls .btn-reset").removeClass("show"),$(".metro__filter .btn-reset").removeClass("active"),$(".tabs__btn--active").removeClass("hasFilter"))},mapClassAdd=function mapClassAdd(id,cl){$("#MetroMap_stations #MetroMap_l_".concat(id," .MetroMap_station_item")).addClass(cl);for(var _i3=0;_i3<$("#MetroMap_stations #MetroMap_l_".concat(id," .MetroMap_station_item")).length;_i3++)if(void 0!==$("#MetroMap_stations #MetroMap_l_".concat(id," .MetroMap_station_item:nth-child(").concat(_i3,")")).attr("id")){var num=$("#MetroMap_stations #MetroMap_l_".concat(id," .MetroMap_station_item:nth-child(").concat(_i3,")")).attr("id").replace("MetroMap_station_","");$(".MetroMap_to_".concat(num)).addClass(cl).find("circle").attr("r","8")}},mapClassRemove=function mapClassRemove(id,cl){$("#MetroMap_stations #MetroMap_l_".concat(id," .MetroMap_station_item")).removeClass(cl);for(var _i4=0;_i4<$("#MetroMap_stations #MetroMap_l_".concat(id," .MetroMap_station_item")).length;_i4++)if(void 0!==$("#MetroMap_stations #MetroMap_l_".concat(id," .MetroMap_station_item:nth-child(").concat(_i4,")")).attr("id")){var num=$("#MetroMap_stations #MetroMap_l_".concat(id," .MetroMap_station_item:nth-child(").concat(_i4,")")).attr("id").replace("MetroMap_station_","");$(".MetroMap_to_".concat(num)).removeClass(cl).find("circle").attr("r","6")}};$("body").on("click",".select:not(.active)",(function(e){$(e.currentTarget).toggleClass("active")})),$("body").on("click",".select.active",(function(e){"select"===$(e.target)[0].classList[0]&&$(e.currentTarget).toggleClass("active"),""!==$(e.currentTarget).find(".select__input").val()?$(e.currentTarget).addClass("fill"):$(e.currentTarget).removeClass("fill")})),$("body").on("click",".select__item",(function(e){var $select=$(e.currentTarget).closest(".select"),$input=$select.find(".select__input");if($select.hasClass("checkbox")){for(var value="",count=$select.find(".select__item input:checked").length,_i5=0;_i5<$select.find(".select__item").length;_i5++)$select.find(".select__item:nth-child(".concat(_i5,")")).find("input").is(":checked")&&(value+="".concat($select.find(".select__item:nth-child(".concat(_i5,")")).attr("data-value"),", "));if(count>1&&(0===$select.find(".select__count").length&&$input.after('<div class="select__count"></div>'),$select.find(".select__count").text(count)),count<=1&&$select.find(".select__count").length>0&&$select.find(".select__count").remove(),$(e.currentTarget).find(".checkbox-group__input").is(":checked")){$('.MetroMap_line_item[data-name="'.concat($(e.currentTarget).attr("data-value"),'"]')).addClass("selected");var id=$('.MetroMap_line_item[data-name="'.concat($(e.currentTarget).attr("data-value"),'"]')).attr("id").replace("MetroMap_line_","");$(e.currentTarget).addClass("selected"),mapClassAdd(id,"selected"),resetButton()}else{$('.MetroMap_line_item[data-name="'.concat($(e.currentTarget).attr("data-value"),'"]')).removeClass("selected");var _id=$('.MetroMap_line_item[data-name="'.concat($(e.currentTarget).attr("data-value"),'"]')).attr("id").replace("MetroMap_line_","");$(e.currentTarget).removeClass("selected"),mapClassRemove(_id,"selected"),resetButton()}$input.val(value)}else $select.removeClass("active"),$input.val($(e.currentTarget).attr("data-value"))})),$("body").on("click",".select__count",(function(e){$(e.currentTarget).closest(".select").removeClass("active"),$(e.currentTarget).closest(".select").find(".checkbox-group__input").prop("checked",!1),$(e.currentTarget).closest(".select").find(".select__input").val(""),$(e.currentTarget).remove()})),$("body").on("click",".hamburger",(function(e){$(e.currentTarget).toggleClass("active"),$(".menu").addClass("active")}));var pageNavToggle=document.querySelectorAll(".nav-toggle");pageNavToggle&&pageNavToggle.forEach((function(el){el.addEventListener("click",(function(e){var self;return document.querySelector(".root").classList.toggle("nav-open"),$(".mobile-nav__second").removeClass("mobile-nav__second--open"),!1}))})),$("body").on("blur",".subscribe input",(function(e){""!==$(e.currentTarget).val()?$(e.currentTarget).addClass("fill"):$(e.currentTarget).removeClass("fill")}));for(var _i6=0;_i6<$(".items-grid").length;_i6++){var $this=$(".item__content").eq(_i6);$this.find(".item__content--hover").css("height",$this.find(".item__content--base").outerHeight())}var lastScrollTop=0;$(".object-header").length>0&&$(window).scroll((function(){for(var st=$(_this).scrollTop(),_i7=0;_i7<$(".menu-step").length;_i7++)$(document).scrollTop()+.7*$(window).height()>$(".menu-step").eq(_i7).offset().top&&!$("body").hasClass("animate")&&($(".top-bar__nav li").removeClass("active"),$('.top-bar__nav li[data-menu="'.concat($(".menu-step").eq(_i7).attr("data-menu"),'"]')).addClass("active")),!st>lastScrollTop&&$(document).scrollTop()+.7*$(window).height()<$(".menu-step").eq(_i7).offset().top+$(".menu-step").outerHeight()&&!$("body").hasClass("animate")&&$(".top-bar__nav li").removeClass("active");lastScrollTop=st})),$("body").on("click",".top-bar__nav li",(function(e){$(".top-bar__nav li").removeClass("active"),$(e.currentTarget).addClass("active"),$("body").addClass("animate"),$("html, body").stop().animate({scrollTop:$('.menu-step[data-menu="'.concat($(e.currentTarget).attr("data-menu"),'"]')).offset().top-.1*$(window).height()},500,"swing",(function(){$("body").removeClass("animate")}))})),$("body").on("mouseenter",".flat-item__media--image",(function(e){$(e.currentTarget).parent().find(".flat-item__popup").addClass("show"),$(e.currentTarget).offset().top>$(document).scrollTop()+$(window).height()/2&&$(e.currentTarget).parent().find(".flat-item__popup").addClass("bottom")})),$("body").on("mouseleave",".flat-item__media--image",(function(e){$(e.currentTarget).parent().find(".flat-item__popup").removeClass("show").removeClass("bottom")})),$("#yandex").length>0&&ymaps.ready((function(){var myIcon=ymaps.templateLayoutFactory.createClass('<div class="yandex__wrap"><div class="yandex__dot"><div class="yandex__count">{{ properties.count }}</div><div class="yandex__price">{{ properties.price }}</div></div></div>'),myMap=new ymaps.Map("yandex",{center:[55.751574,37.573856],zoom:9,controls:["fullscreenControl"]},{searchControlProvider:"yandex#search"}),myPlacemark=new ymaps.Placemark([55.713443,37.549197],{count:"3",price:"от 44,44 млн ₽",balloonContentBody:'<div class="item">\n                        <div class="item__header">\n                            <a href="javascript:void(0)" class="item__media">\n                                <div class="item__media--image">\n                                    <img src="img/content/item_image__01.jpg" class="img-fluid" alt="">\n                                </div>\n                            </a>\n                        </div>\n                        <div class="item__content">\n                            <div class="item__content--base">\n                                <div class="item__info">\n                                    <div class="item__info--completion">Дома сданы</div>\n                                    <div class="item__info--developer">Гранель</div>\n                                </div>\n                                <div class="item__title">Боярский палисадник</div>\n                                <div class="item__district">\n                                    <div class="item__district--icon" style="background-color: #FFD702;"></div>\n                                    <div class="item__district--name">Раменки</div>\n                                    <div class="item__district--distance">\n                                        <i>\n                                            <svg class="ico-svg" viewBox="0 0 10 15" xmlns="http://www.w3.org/2000/svg">\n                                                <use xlink:href="img/sprites/sprite-mono.svg#distanceicon" xmlns:xlink="http://www.w3.org/1999/xlink"></use>\n                                            </svg>\n                                        </i>\n                                        <span>22 минуты</span>\n                                    </div>\n                                </div>\n                                <div class="item__data">\n                                    <div class="item__data--price">от 15,3 млн ₽</div>\n                                    <div class="item__data--apartments">440 квартир</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>'},{iconLayout:"default#imageWithContent",iconImageSize:[48,48],iconImageOffset:[-24,-24],iconContentOffset:[15,15],iconContentLayout:myIcon}),myPlacemark2=new ymaps.Placemark([55.684758,37.738521],{balloonContentBody:'<div class="item">\n                        <div class="item__header">\n                            <a href="javascript:void(0)" class="item__media">\n                                <div class="item__media--image">\n                                    <img src="img/content/item_image__01.jpg" class="img-fluid" alt="">\n                                </div>\n                            </a>\n                        </div>\n                        <div class="item__content">\n                            <div class="item__content--base">\n                                <div class="item__info">\n                                    <div class="item__info--completion">Сдача IV кв 2022</div>\n                                    <div class="item__info--developer">ЛСР недвижимость</div>\n                                </div>\n                                <div class="item__title">Мосфильмовский</div>\n                                <div class="item__district">\n                                    <div class="item__district--icon" style="background-color: #FFD702;"></div>\n                                    <div class="item__district--name">Сокол</div>\n                                    <div class="item__district--distance">\n                                        <i>\n                                            <svg class="ico-svg" viewBox="0 0 10 15" xmlns="http://www.w3.org/2000/svg">\n                                                <use xlink:href="img/sprites/sprite-mono.svg#distanceicon" xmlns:xlink="http://www.w3.org/1999/xlink"></use>\n                                            </svg>\n                                        </i>\n                                        <span>12 минут</span>\n                                    </div>\n                                </div>\n                                <div class="item__data">\n                                    <div class="item__data--price">от 28,61 млн ₽</div>\n                                    <div class="item__data--apartments">43 квартиры</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>'},{iconLayout:"default#image",iconImageHref:"/img/icons/map-dot.svg",iconImageSize:[12,12],iconImageOffset:[-6,-6]});myMap.events.add("click",(function(e){return e.get("target").balloon.close()})),myMap.geoObjects.add(myPlacemark).add(myPlacemark2)})),$("body").on("click",".yandex__grid",(function(e){$(e.currentTarget).toggle(),$(".filter").toggle(),$(".yandex__list").toggle(),$(".yandex__back").show()})),$("body").on("click",".yandex__back",(function(e){$(e.currentTarget).toggle(),$(".filter").toggle(),$(".yandex__list").toggle(),$(".yandex__grid").show()})),$("#contacts").length>0&&ymaps.ready((function(){var myMap=new ymaps.Map("contacts",{center:[55.751574,37.573856],zoom:12,controls:["zoomControl","fullscreenControl"]},{searchControlProvider:"yandex#search"});myMap.behaviors.disable(["scrollZoom","rightMouseButtonMagnifier"]);var myCollection=new ymaps.GeoObjectCollection;function createPlacemark(image,coords,num,active){var animatedLayout=ymaps.templateLayoutFactory.createClass('<div class="placemark" data-card="'.concat(num,'"></div>'),{build:function build(){animatedLayout.superclass.build.call(this);var element=this.getParentElement().getElementsByClassName("placemark")[0];element.style.backgroundImage=image;var size,smallShape={type:"Circle",coordinates:[0,0],radius:(this.isActive?80:64)/2};this.getData().options.set("shape",smallShape),active&&element.classList.add("active"),this.getData().geoObject.events.add("click",(function(e){if($(window).width()<768){for(var i=0;i<document.getElementsByClassName("placemark").length;i++)document.getElementsByClassName("placemark")[i].classList.remove("active");element.classList.add("active"),$('.contacts__item[data-card="'.concat(num,'"]')).addClass("show")}}),this)}});myCollection.add(new ymaps.Placemark(coords,{test:"test"},{iconLayout:animatedLayout,hasBalloon:!1,test:"test"}))}createPlacemark("url('img/map-marker1.png')",[55.684758,37.738521],1),createPlacemark("url('img/map-marker2.png')",[55.751574,37.573856],2),createPlacemark("url('img/map-marker3.png')",[55.775821,37.59562],3,!0),myMap.geoObjects.add(myCollection),myMap.events.add("click",(function(e){return e.get("target").balloon.close()}))})),$("body").on("mouseenter",".contacts__item",(function(e){$(".placemark").removeClass("active"),$('.placemark[data-card="'.concat($(e.currentTarget).attr("data-card"),'"]')).addClass("active")})),$(window).width()>767&&$(".contacts__list").addClass("custom-scroll"),document.querySelectorAll(".custom-scroll").forEach((function(el){new SimpleBar(el)})),Fancybox.bind("[data-fancybox]",{placeFocusBack:!1});var cursor=$(".object-promo__slider-full .swiper-pagination-fraction");$("body").on("mouseenter",".object-promo__slider-full",(function(e){cursor.show().css("display","flex"),$("html").addClass("cursor"),$(window).mousemove((function(e){cursor.css({top:e.clientY-cursor.height()/2,left:e.clientX-cursor.width()/2})}))})),$("body").on("mouseleave",".object-promo__slider-full",(function(e){cursor.hide(),$("html").removeClass("cursor"),$(window).mousemove((function(e){cursor.css({top:e.clientY-cursor.height()/2,left:e.clientX-cursor.width()/2})}))})),$("body").on("mouseenter",".object-promo__slider-full .object-promo__nav--prev",(function(e){cursor.addClass("left")})),$("body").on("mouseleave",".object-promo__slider-full .object-promo__nav--prev",(function(e){cursor.removeClass("left")})),$("body").on("mouseenter",".object-promo__slider-full .object-promo__nav--next",(function(e){cursor.addClass("right")})),$("body").on("mouseleave",".object-promo__slider-full .object-promo__nav--next",(function(e){cursor.removeClass("right")})),$("body").on("click",".contacts .mobile",(function(e){$(".contacts__map").addClass("active"),$(".contacts__item").addClass("active"),$(".contacts").addClass("active"),$("html, body").toggleClass("overflow")})),$("body").on("click",".back_but_map",(function(e){$(".contacts__map").removeClass("active"),$(".contacts__item").removeClass("active"),$(".contacts").removeClass("active")})),$("body").on("click",".contacts__close",(function(e){$(".contacts__item").removeClass("show"),$(".placemark").removeClass("active")}));var someHeight=function someHeight(selector,element){for(var _i8=0;_i8<$(selector).length;_i8++){for(var $step=$(selector).eq(_i8),stepHeight=0,j=0;j<$step.find(element).length;j++)$step.find(element).eq(j).height()>stepHeight&&(stepHeight=$step.find(element).eq(j).height());$step.find(element).height(stepHeight)}};someHeight(".viewed__slider",".flat-item__object"),someHeight(".viewed__slider",".flat-item__price"),$(document).on("click",".jak",(function(e){e.preventDefault();var id=$(this).attr("href"),top=$(id).offset().top;$("body, html").animate({scrollTop:top},800)})),$(document).ready((function(){if($(window).width()<769){var $element=$("#calc_ipoteka");let counter=0;$(window).scroll((function(){var scroll=$(window).scrollTop()+$(window).height(),offset2=$element.offset().top+$element.height(),offset=$element.offset().top;scroll>offset&&0==counter&&($(".but_calc_ipoteka").fadeOut(500),counter=1),scroll>offset2&&1==counter&&($(".but_calc_ipoteka").fadeIn(500),counter=1),scroll<offset&&1==counter&&($(".but_calc_ipoteka").fadeIn(500),counter=0)}))}}));var partnersSlider=new Swiper(".partners-slider",{slidesPerView:"auto",spaceBetween:16,freeMode:!0,breakpoints:{320:{slidesPerView:"auto",spaceBetween:16}}});if($(window).width()>600)var bestnewsslider=new Swiper(".best-news-slider",{slidesPerView:"auto",spaceBetween:16,loop:!1,simulateTouch:!0,navigation:{nextEl:".news-next",prevEl:".news-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:40},1760:{slidesPerView:3,spaceBetween:40}}});var progressslider=new Swiper(".progress-slider",{slidesPerView:"auto",spaceBetween:24,simulateTouch:!1,breakpoints:{320:{slidesPerView:2,spaceBetween:40,simulateTouch:!1},768:{slidesPerView:3,spaceBetween:40,simulateTouch:!1},1200:{slidesPerView:3,spaceBetween:40,simulateTouch:!1},1400:{slidesPerView:3,spaceBetween:40,simulateTouch:!1},1800:{slidesPerView:3,spaceBetween:120,simulateTouch:!1}}}),swiper=new Swiper(".filter-slider",{slidesPerView:1,paginationClickable:!0,spaceBetween:8,loop:!0,navigation:{nextEl:".filter-slider-next",prevEl:".filter-slider-prev"},pagination:{el:".swiper-pagination",type:"fraction"},breakpoints:{320:{pagination:!1},768:{pagination:!1},1200:{pagination:{el:".swiper-pagination",type:"fraction"}}}});$(".categories span").on("click",(function(){var filter=$(this).attr("data-tab").toLowerCase();$(".categories span"),$(".categories span").removeClass("active"),$(this).addClass("active"),$(".filter-slide-main").not("[data-filter='"+filter+"']").addClass("non-swiper-slide").removeClass("swiper-slide").hide(),$("[data-filter='"+filter+"']").removeClass("non-swiper-slide").addClass("swiper-slide").attr("style",null).show(),console.log($(".swiper-slide").length),swiper=new Swiper(".filter-slider",{slidesPerView:1,paginationClickable:!0,loop:!0,spaceBetween:8,navigation:{nextEl:".filter-slider-next",prevEl:".filter-slider-prev"},pagination:{el:".swiper-pagination",type:"fraction"}})})),$(".select-mobile").change((function(){var filter2=$(".select-mobile option").val();$(this).addClass("active"),$(".filter-slide-main").not("[data-filter='"+filter2+"']").addClass("non-swiper-slide").removeClass("swiper-slide").hide(),$("[data-filter='"+filter2+"']").removeClass("non-swiper-slide").addClass("swiper-slide").attr("style",null).show(),console.log($(".swiper-slide").length),swiper=new Swiper(".filter-slider",{slidesPerView:1,paginationClickable:!0,loop:1,spaceBetween:8,navigation:{nextEl:".filter-slider-next",prevEl:".filter-slider-prev"},pagination:{el:".swiper-pagination",type:"fraction"}})}));var cursor_company=$(".filter-slider-cursor .swiper-pagination-fraction");if($("body").on("mouseenter",".filter-slider-cursor",(function(e){cursor_company.show().css("display","flex"),$("html").addClass("cursor"),$(window).mousemove((function(e){cursor_company.css({top:e.clientY-cursor_company.height()/2,left:e.clientX-cursor_company.width()/2})}))})),$("body").on("mouseleave",".filter-slider-cursor",(function(e){cursor_company.hide(),$("html").removeClass("cursor"),$(window).mousemove((function(e){cursor_company.css({top:e.clientY-cursor_company.height()/2,left:e.clientX-cursor_company.width()/2})}))})),$("body").on("mouseenter",".filter-slider-cursor .filter-slider-prev-cursor",(function(e){cursor_company.addClass("left")})),$("body").on("mouseleave",".filter-slider-cursor .filter-slider-prev-cursor",(function(e){cursor_company.removeClass("left")})),$("body").on("mouseenter",".filter-slider-cursor .filter-slider-next-cursor",(function(e){cursor_company.addClass("right")})),$("body").on("mouseleave",".filter-slider-cursor .filter-slider-next-cursor",(function(e){cursor_company.removeClass("right")})),$(document).ready((function(){let button_open=$(".mobile-features-btn"),features_list=$(".features__list");button_open.click((function(){features_list.toggleClass("list-opened"),button_open.toggleClass(".btn-opened")}))})),$(document).ready((function(){let button_open=$(".mobile-operations-btn"),operations_list=$(".banner-items");button_open.click((function(){operations_list.toggleClass("list-opened"),button_open.toggleClass(".btn-opened")}))})),$(document).ready((function(){let button_open=$(".mobile-service-btn"),operations_list=$(".service__list");button_open.click((function(){operations_list.toggleClass("list-opened"),button_open.toggleClass(".btn-opened")}))})),(()=>{let e=$(".company-wrapper").offset().top,t=$(".banner-operations").offset().top,n=$(window).height(),i=e-700,r=t-100;console.log(n),$(window).scroll((function(){$(window).scrollTop()>i?$(".root__sidebar").addClass("hide-sidebar"):$(".root__sidebar").removeClass("hide-sidebar"),$(window).scrollTop()>r&&$(".root__sidebar").removeClass("hide-sidebar")}))})(),$(window).width()>1199){let div=document.querySelector(".company-wrapper");window.addEventListener("scroll",(function(){div.style.width=pageYOffset/20+"%"}))}var slider_tabs=new Swiper(".slider-header-tabs",{direction:"horizontal",loop:!1,pagination:!1,navigation:!1,scrollbar:!1,slidesPerView:"auto",spaceBetween:8,simulateTouch:!1,breakpoints:{320:{slidesPerView:2,spaceBetween:8,simulateTouch:!1},1100:{enabled:!1}}});function openCity(evt,cityName){var i,tabcontent,tablinks;for(tabcontent=document.getElementsByClassName("tabcontent"),i=0;i<tabcontent.length;i++)tabcontent[i].style.display="none";for(tablinks=document.getElementsByClassName("tablinks"),i=0;i<tablinks.length;i++)tablinks[i].className=tablinks[i].className.replace(" active","");document.getElementById(cityName).style.display="block",evt.currentTarget.className+=" active"}$(document).ready((function(){let button_open=$(".mobile-rewiews-btn"),wrapper_list=$(".company-reviews-wrap");button_open.click((function(){button_open.toggleClass("btn-opened"),wrapper_list.toggleClass("wrap-opened")}))})),document.getElementById("defaultOpen").click();